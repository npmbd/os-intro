
---
# Front matter
lang: ru-RU
title: "Лабораторная работа № 6"
subtitle: "Анализ файловой системы Linux. Команды для работы с файлами и каталогами"
author: "Маметкадыров Ынтымак"

# Formatting
toc_depth: 2
lof: true # List of figures
lot: true # List of tables
fontsize: 12pt
linestretch: 1.5
papersize: a4paper
documentclass: scrreprt
polyglossia-lang: russian
polyglossia-otherlangs: english
mainfont: PT Serif
romanfont: PT Serif
sansfont: PT Sans
monofont: PT Mono
mainfontoptions: Ligatures=TeX
romanfontoptions: Ligatures=TeX
sansfontoptions: Ligatures=TeX,Scale=MatchLowercase
monofontoptions: Scale=MatchLowercase
indent: true
pdf-engine: lualatex
header-includes:
  - \linepenalty=10 # the penalty added to the badness of each line within a paragraph (no associated penalty node) Increasing the value makes tex try to have fewer lines in the paragraph.
  - \interlinepenalty=0 # value of the penalty (node) added after each line of a paragraph.
  - \hyphenpenalty=50 # the penalty for line breaking at an automatically inserted hyphen
  - \exhyphenpenalty=50 # the penalty for line breaking at an explicit hyphen
  - \binoppenalty=700 # the penalty for breaking a line at a binary operator
  - \relpenalty=500 # the penalty for breaking a line at a relation
  - \clubpenalty=150 # extra penalty for breaking after first line of a paragraph
  - \widowpenalty=150 # extra penalty for breaking before last line of a paragraph
  - \displaywidowpenalty=50 # extra penalty for breaking before last line before a display math
  - \brokenpenalty=100 # extra penalty for page breaking after a hyphenated line
  - \predisplaypenalty=10000 # penalty for breaking before a display
  - \postdisplaypenalty=0 # penalty for breaking after a display
  - \floatingpenalty = 20000 # penalty for splitting an insertion (can only be split footnote in standard LaTeX)
  - \raggedbottom # or \flushbottom
  - \usepackage{float} # keep figures where there are in the text
  - \floatplacement{figure}{H} # keep figures where there are in the text
---

# Цель работы

Ознакомление с файловой системой Linux, её структурой, именами и содержанием каталогов. Приобретение практических навыков по применению команд для работы с файлами и каталогами, по управлению процессами (и работами), по проверке использования диска и обслуживанию файловой системы.

# Выполнение лабораторной работы

1. Выполнили все примеры, приведённые в первой части описания лабораторной работы (рис. 1, 2, 3, 4).

![Рис. 1. Создание файла](/home/itmametkadihrov/Изображения/lab06/1.png){ #fig:001 width=70% }

![Рис. 2. Просмотр файла командой cat](/home/itmametkadihrov/Изображения/lab06/2.png){ #fig:001 width=70% }

![Рис. 3. Просмотр файла командой less](/home/itmametkadihrov/Изображения/lab06/3.png){ #fig:001 width=70% }

![Рис. 4. Просмотр файла командами head [-n] и tail [-n]](/home/itmametkadihrov/Изображения/lab06/4.png){ #fig:001 width=70% }

2. При помощи команды cp скопировали файл /usr/include/sys/io.h в домашний каталог. Затем командой mv переименовали его в equipment (рис. 5).

![Рис. 5. Копирование файла io.h в домашний каталог и переименование](/home/itmametkadihrov/Изображения/lab06/5.png){ #fig:001 width=70% }

3. Создали командой mkdir новый каталог ski.plases (рис. 6).

4. Переместили файл equipment командой mv в каталог ski.plases (рис. 6).

![Рис. 6. Копирование файла io.h в домашний каталог и переименование](/home/itmametkadihrov/Изображения/lab06/6.png){ #fig:001 width=70% }

5. Переименовали командой mv файл ~/ski.plases/equipment в ~/ski.plases/equiplist (рис. 7).

![Рис. 7. Переименование файла equipment](/home/itmametkadihrov/Изображения/lab06/7.png){ #fig:001 width=70% }

6. Создали в домашнем каталоге командой mkdir файл abc1. Скопировали его в каталог ~/ski.plases и назвали его equiplist2 (рис. 8).

![Рис. 8. Создание, копирование, переименование файла abc1](/home/itmametkadihrov/Изображения/lab06/8.png){ #fig:001 width=70% }

7. Создали каталог с именем equipment в каталоге ~/ski.plases (рис. 9).

8. Переместили файлы ~/ski.plases/equiplist и equiplist2 в каталог ~/ski.plases/equipment (рис. 9).

![Рис. 9. Копирование equiplist и equiplist2 в каталог equipment](/home/itmametkadihrov/Изображения/lab06/9.png){ #fig:001 width=70% }

9. Создали и переместили каталог ~/newdir в каталог ~/ski.plases и назовали его plans (рис. 10).

![Рис. 10. Создание, копирование, переименование каталога newdir](/home/itmametkadihrov/Изображения/lab06/10.png){ #fig:001 width=70% }

10. Создали каталоги и файлы указанные в задании, затем посмотрели права доступа к ним, проанализировав, удалили не требующиеся права и добавили нужные права для разных категорий пользователей (рис. 11).

![Рис. 11. Присвоение прав файлам и каталогам](/home/itmametkadihrov/Изображения/lab06/11.png){ #fig:001 width=70% }

11. Просмотрели содержимое файла /etc/passwd (рис. 12).

![Рис. 12. Содержимое файла /etc/passwd](/home/itmametkadihrov/Изображения/lab06/12.png){ #fig:001 width=70% }

12. Скопировали файл ~/feathers в файл ~/file.old (рис. 13).

![Рис. 13. Копирование файла ~/feathers в файл ~/file.old](/home/itmametkadihrov/Изображения/lab06/13.png){ #fig:001 width=70% }

13. Переместили файл ~/file.old в каталог ~/play (рис. 14).

![Рис. 14. Перемещение файла ~/file.old в каталог ~/play](/home/itmametkadihrov/Изображения/lab06/14.png){ #fig:001 width=70% }

14. Скопировали каталог ~/play в каталог ~/fun (рис. 15).

![Рис. 15. Копирование каталога ~/play в каталог ~/fun](/home/itmametkadihrov/Изображения/lab06/15.png){ #fig:001 width=70% }

15. Переместили каталог ~/fun в каталог ~/play и назвали его games (рис. 16).

![Рис. 16. Копирование каталога ~/play в каталог ~/fun](/home/itmametkadihrov/Изображения/lab06/16.png){ #fig:001 width=70% }

16. Лишили владельца файла ~/feathers права на чтение (рис. 17).

![Рис. 17. Лишение владельца файла ~/feathers права на чтение](/home/itmametkadihrov/Изображения/lab06/17.png){ #fig:001 width=70% }

17. При попытке посмотреть файл ~/feathers командой cat получили отказ.

![Рис. 18. Попытка посмотреть файл ~/feathers](/home/itmametkadihrov/Изображения/lab06/18.png){ #fig:001 width=70% }

18. Также попытались скопировать файл ~/feathers, но безрезультатно (рис. 19).

![Рис. 19. Попытка скопировать файл ~/feathers](/home/itmametkadihrov/Изображения/lab06/19.png){ #fig:001 width=70% }

19. Дали владельцу файла ~/feathers право на чтение командой chmod u+r feathers.

20. Лишили владельца каталога ~/play права на выполнение командой chmod u-x play.

21. Перешли в каталог ~/play. Не смогли перейти и получили отказ (рис. 20).

![Рис. 20. Переход в каталог ~/play](/home/itmametkadihrov/Изображения/lab06/20.png){ #fig:001 width=70% }

21. Дали владельцу каталога ~/play право на выполнение командой chmod u+x play

22. Прочитали man по командам mount, fsck, mkfs, kill.

	mount — утилита командной строки в UNIX-подобных операционных системах. Применяется для монтирования файловых систем.

	Fsck расшифровывается как "File System ChecK", то есть "проверка файловой системы" и используется для проверки и исправления файловых систем в Linux.

	mkfs используется для создания файловой системы Linux на некотором устройстве, обычно в разделе жёсткого диска.

	kill посылает сигнал процессу. Обычно используется для прерывание процесса процесса.

# Вывод

Ознакомились с файловой системой Linux, её структурой, именами и содержанием каталогов. Приобрели практические навыки по применению команд для работы с файлами и каталогами, по управлению процессами (и работами), по проверке использования диска и обслуживанию файловой системы.

# Ответы на контрольные вопросы

1. XFS — высокопроизводительная 64-битная журналируемая файловая система.

2. Каждый файл в древовидной структуре расположен в определенном хранилище файлов — каталоге, каждый каталог, в свою очередь, также расположен в некотором каталоге. Таким образом, по принципу вложения элементов файловой системы (файлов и каталогов) друг в друга строится дерево, вершинами которого являются непустые каталоги, а листьями — файлы или пустые каталоги. Корень такого дерева имеет название корневой каталог и обозначается каким-либо специальным символом или группой символов. Каждому файлу соответствует некоторое имя, определяющее его расположение в дереве файловой системы. Полное имя файла состоит из имен всех вершин дерева файловой системы, через которые можно пройти от корня до данного файла (каталога), записывая их слева направо и разделяя специальными символами-разделителями.

3. Чтобы содержимое некоторой файловой системы было доступно операционной системе нужно выполнить команду ls.

4. Наиболее часто возникающие трудности связаны с перебоями в питании, неполадках в оборудовании или из-за ошибок оператора (например, некорректное выключение компьютера).

	Работа с поврежденной файловой системой может привести к потерям данных и другим неполадкам. Большинство систем сконфигурировано таким образом, что команда fsck запускается автоматически при загрузке системы, поэтому возможные неполадки будут обнаружены и, возможно, исправлены перед тем, как система начнет использоваться. Если файловая система довольно большая по объему, то ее проверка может занять некоторое время, что создает определенные неудобства. Для того чтобы избежать проверки всей файловой системы, применяются различные способы контроля правильности ее отключении. Первый из них связан с тем, что если существует файл /etc/fastboot, то никаких проверок не производится. Второй способ заключается в том, что в файловой системе ext2 существует специальный флажок, расположенный в суперблоке, который используется для выявления корректности демонтирования файловой системы при последнем выключении компьютера. Эта возможность используется в программе e2fsck (версия команды fsck для файловой системы ext2fs) для избежания излишней проверки файловой системы, если флажок ее целостности установлен, то система была корректно демонтирована. Использование способа, связанного с файлом /etc/fastboot, зависит от программ, запускаемых при загрузке системы, а применение команды e2fsck работает в любом случае. Для более подробной информации о такой проверке см. man-руководство по e2fsck.

5. Для создания  файловой системы типа ext2 выполняется команда mke2fs -с <устройство>.

6. cat - c помощью этой команды можно очень просто посмотреть содержимое небольшого файла.

	Для просмотра больших файлов используйте команду less — она позволяет осуществлять постраничный просмотр файлов.

	head - используется для просмотра начала файла.

	tail - выводит несколько (по умолчанию 10) последних строк файла.

7. Копирование файлов и каталогов осуществляется при помощи команды cp.

	cp [-опции] исходный_файл целевой_файл

8. Команды mv и mvdir предназначены для перемещения и переименования файлов и каталогов.

	Формат команды mv:	

	mv [-опции] старый_файл новый_файл

	Переименование файлов в текущем каталоге. Изменить название файла apple на orange в домашнем каталоге:
	cd
	mv apple orange

9. Права доступа — совокупность правил, регламентирующих порядок и условия доступа субъекта к объектам информационной системы (информации, её носителям, процессам и другим ресурсам) установленных правовыми документами или собственником, владельцем информации.

	Права доступа к файлу или каталогу можно изменить, воспользовавшись командой chmod. Сделать это может владелец файла (или каталога) или пользователь с правами администратора.

	Формат команды:

	chmod режим имя_файла
